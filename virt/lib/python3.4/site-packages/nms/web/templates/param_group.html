{% extends "base.html" %}

{% block title %} {{device.full_name}}:{{param_group.name}}{% endblock %}

{% block scripts %}
<script language="javascript" type="text/javascript" src="/static/js/highcharts/highstock.js"></script>
<script language="javascript" type="text/javascript" src="/static/js/highcharts/exporting.js"></script>
<script language="javascript" type="text/javascript" src="/static/js/plot.js"></script>
<script language="javascript" type="text/javascript">
    // Create the chart
    $(function () {
        var plot_parameters = {
            device_name: "{{device.name}}",
            param_name: "{{param_group.name}}",
            param_fullname: "{{param_group.name}}",
            param_units: "",
            ymax: {{param_group.maxy|tojson|safe}},
            ymin: {{param_group.miny|tojson|safe}},
            navigator_enabled: true,
            height: null,
            boundaries: {
                errors: [
                {% if param_group.boundaries.err_max is not none %}
                    {{ param_group.boundaries.err_max| tojson | safe}},
                {%endif%}
                {% if param_group.boundaries.err_min is not none %}
                    {{ param_group.boundaries.err_min| tojson | safe}},
                {%endif%}
                ],
                warnings: [
                {% if param_group.boundaries.warn_min is not none %}
                    {{ param_group.boundaries.warn_min| tojson | safe}},
                {%endif%}
                {% if param_group.boundaries.warn_max is not none %}
                    {{ param_group.boundaries.warn_max| tojson | safe}},
                {%endif%}
                ],
            },
        };
        plot_parameter_set('#container', plot_parameters,
        {{param_group.par_names |tojson|safe}},
        {{param_group.par_full_names |tojson|safe}}); 
    });
</script>

{% endblock %}

{% block left %}
    <div class="device_menu">
        {% include 'common/device_block.html' %}
        <hr class="info_hr">
    </div>
{% endblock %}

{% block right %}
    <div class="right">
        <div class="box-decorate">
        Обновлять график автоматически <input type="checkbox" id="do_update_plots" checked />
        </div>
        <div class="box-decorate">
            <div id="container" class='big-chart'></div>
        </div>
    </div> <!--right end-->

{% endblock %}
