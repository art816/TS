#!/usr/bin/env python3

# This is proprietary software.
# Part of cluster monitoring project.
# PEP8 codestyle used, python version 3.
#
# authors: dmitry khodakov <dmitryhd@gmail.com>

""" Pagination. """

from math import ceil

import nms.config as cfg


class Pagination(object):
    """ Simple pagination class. """
    def __init__(self, data):
        self.all_data = data
        self.per_page = cfg.ALERTS_ON_PAGE
        self.cur_page = 1

    @property
    def num_pages(self):
        """ Get number of pages. """
        return int(ceil(len(self.all_data) / float(self.per_page)))

    def get_page(self):
        """ Return cur_page page content. """
        down_boundary = (self.cur_page - 1) * self.per_page
        up_boundary = self.cur_page * self.per_page
        return self.all_data[down_boundary:up_boundary]

    @property
    def has_next(self):
        """ Do we have next page? """
        return self.cur_page < self.num_pages

    @property
    def has_previous(self):
        """ Do we have prev page? """
        return self.cur_page >= 2

    @property
    def next_page_number(self):
        """ Return next page number. """
        return self.cur_page + 1

    @property
    def previous_page_number(self):
        """ Return prev page number. """
        return self.cur_page - 1

